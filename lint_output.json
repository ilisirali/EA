[{"filePath":"C:\\Users\\tured\\OneDrive\\Desktop\\fetih-011d77d5-main\\fetih-011d77d5-main\\src\\components\\EditActivityDialog.tsx","messages":[{"ruleId":"no-empty","severity":2,"message":"Empty block statement.","line":81,"column":11,"nodeType":"BlockStatement","messageId":"unexpected","endLine":81,"endColumn":14,"suggestions":[{"messageId":"suggestComment","data":{"type":"block"},"fix":{"range":[2767,2768],"text":" /* empty */ "},"desc":"Add comment inside empty block statement."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'activity.activity_date', 'activity.description', and 'activity.location'. Either include them or remove the dependency array. If 'setLocation' needs the current value of 'activity.location', you can also switch to useReducer instead of useState and read 'activity.location' in the reducer.","line":131,"column":6,"nodeType":"ArrayExpression","endLine":131,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [open, activity.id, activity.description, activity.location, activity.activity_date]","fix":{"range":[5047,5066],"text":"[open, activity.id, activity.description, activity.location, activity.activity_date]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":165,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":165,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6683,6686],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6683,6686],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":169,"column":101,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":169,"endColumn":104,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6882,6885],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6882,6885],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef, useMemo } from \"react\";\nimport { Loader2, Clock, MapPin, Users, UserPlus, X, Image, Upload, Trash2, LocateFixed, Camera, Plus, UserCheck, Calendar as CalendarIcon, Save } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { format } from \"date-fns\";\nimport { nl, tr, enUS, arSA } from \"date-fns/locale\";\nimport { useLanguage, Language } from \"@/hooks/useLanguage\";\nimport { Activity, ActivityPhoto } from \"@/hooks/useActivities\";\nimport { cn } from \"@/lib/utils\";\nimport { toast } from \"sonner\";\n\nconst dateLocales: Record<Language, typeof nl> = { tr, en: enUS, nl, ar: arSA };\n\ninterface Teammate {\n  name: string;\n  hours: number;\n}\n\ninterface DayEntry {\n  work: string;\n  meerwerk: string;\n  location: string;\n  googleMapsUrl?: string;\n  hours: number;\n  teammates: Teammate[];\n  uitvoerder: string;\n}\n\ninterface WeeklyWork {\n  monday: DayEntry;\n  tuesday: DayEntry;\n  wednesday: DayEntry;\n  thursday: DayEntry;\n  friday: DayEntry;\n  saturday: DayEntry;\n}\n\nconst DAYS = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'] as const;\n\nfunction getPhotosForDay(photos: ActivityPhoto[] | undefined, day: string): ActivityPhoto[] {\n  return photos ? photos.filter(p => p.day === day) : [];\n}\n\nconst emptyDay = (): DayEntry => ({\n  work: '', meerwerk: '', location: '', googleMapsUrl: '', hours: 0, teammates: [{ name: '', hours: 0 }], uitvoerder: ''\n});\n\ninterface EditActivityDialogProps {\n  activity: Activity;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onSave: (id: string, data: { description: string; location?: string; date?: Date }) => Promise<boolean>;\n  onDeletePhoto: (photoId: string) => Promise<boolean>;\n  onUploadPhotos: (activityId: string, photos: File[], day?: string) => Promise<boolean>;\n  onRefetch: () => void;\n}\n\nfunction parseDescription(description: string): { type: 'weekly' | 'simple'; days?: WeeklyWork; text?: string } {\n  try {\n    const parsed = JSON.parse(description);\n    if (parsed.type === 'weekly' && parsed.days) {\n      const days = parsed.days as WeeklyWork;\n      DAYS.forEach(day => {\n        if (days[day]) {\n          if (!days[day].meerwerk) days[day].meerwerk = '';\n          if (!days[day].teammates) days[day].teammates = [{ name: '', hours: 0 }];\n          if (!days[day].uitvoerder) days[day].uitvoerder = '';\n        }\n      });\n      return { type: 'weekly', days };\n    }\n  } catch { }\n  return { type: 'simple', text: description };\n}\n\nexport function EditActivityDialog({ activity, open, onOpenChange, onSave, onDeletePhoto, onUploadPhotos, onRefetch }: EditActivityDialogProps) {\n  const { t, language } = useLanguage(); // language bilgisini aldık\n  const [loading, setLoading] = useState(false);\n  const [deletingPhotoId, setDeletingPhotoId] = useState<string | null>(null);\n  const [uploadingDay, setUploadingDay] = useState<string | null>(null);\n  const [locatingDay, setLocatingDay] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [currentUploadDay, setCurrentUploadDay] = useState<string | undefined>(undefined);\n\n  // Yerel Çeviri Objesi (Dosya içi hızlı çözüm)\n  const ui = useMemo(() => ({\n    hours: t(\"activity.hours\").toUpperCase(),\n    cancel: t(\"edit.cancel\"),\n    save: t(\"activity.save\").toUpperCase(),\n    add: t(\"activity.add\").toUpperCase(),\n    uitvoerder: t(\"activity.supervisor\"),\n    placeholder: t(\"form.personName\"),\n    workPlaceholder: t(\"days.workPlaceholder\")\n  }), [t]);\n\n  const parsedDesc = parseDescription(activity.description);\n  const isWeekly = parsedDesc.type === 'weekly';\n\n  const [weeklyWork, setWeeklyWork] = useState<WeeklyWork>(() => {\n    if (isWeekly && parsedDesc.days) return parsedDesc.days;\n    return { monday: emptyDay(), tuesday: emptyDay(), wednesday: emptyDay(), thursday: emptyDay(), friday: emptyDay(), saturday: emptyDay() };\n  });\n\n  const [simpleText, setSimpleText] = useState(parsedDesc.text || '');\n  const [location, setLocation] = useState(activity.location || '');\n  const [activityDate, setActivityDate] = useState<Date>(() => new Date(activity.activity_date));\n\n  useEffect(() => {\n    // Sadece Dialog açıldığında (ilk renderda veya open true olduğunda) çalışır.\n    // Böylece resim yükledikten sonra (activity prop güncellendiğinde) kullanıcının\n    // yazdığı mevcut metinler/veriler sıfırlanmaz.\n    if (open) {\n      const parsed = parseDescription(activity.description);\n      if (parsed.type === 'weekly' && parsed.days) {\n        setWeeklyWork(parsed.days);\n      } else {\n        setSimpleText(parsed.text || '');\n      }\n      setLocation(activity.location || '');\n      setActivityDate(new Date(activity.activity_date));\n    }\n  }, [open, activity.id]); // DİKKAT: activity'nin photos vb. alanları prop'ta direkt render olduğu için statelere gerek yok.\n\n  const fetchAddress = async (day: keyof WeeklyWork) => {\n    if (!navigator.geolocation) return toast.error(\"GPS desteklenmiyor.\");\n    setLocatingDay(day);\n    navigator.geolocation.getCurrentPosition(async (pos) => {\n      const { latitude: lat, longitude: lon } = pos.coords;\n      const gMaps = `https://www.google.com/maps?q=${lat},${lon}`;\n      try {\n        const res = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json&addressdetails=1`, {\n          headers: { 'Accept-Language': language }\n        });\n        const data = await res.json();\n        const street = data.address.road || data.address.pedestrian || data.address.suburb || \"\";\n        const houseNum = data.address.house_number ? ` No:${data.address.house_number}` : \"\";\n        const city = data.address.city || data.address.town || \"\";\n        const finalAddr = `${street}${houseNum} ${city}`.trim();\n\n        setWeeklyWork(prev => ({\n          ...prev, [day]: { ...prev[day], location: finalAddr || \"Konum Belirlendi\", googleMapsUrl: gMaps }\n        }));\n        toast.success(\"Adres güncellendi.\");\n      } catch (e) {\n        setWeeklyWork(prev => ({ ...prev, [day]: { ...prev[day], googleMapsUrl: gMaps } }));\n        toast.error(\"Adres ismi çözülemedi.\");\n      } finally {\n        setLocatingDay(null);\n      }\n    }, () => {\n      toast.error(\"Konum izni alınamadı.\");\n      setLocatingDay(null);\n    });\n  };\n\n  const handleDayChange = (day: keyof WeeklyWork, field: keyof DayEntry, value: any) => {\n    setWeeklyWork(prev => ({ ...prev, [day]: { ...prev[day], [field]: value } }));\n  };\n\n  const handleTeammateChange = (day: keyof WeeklyWork, index: number, field: keyof Teammate, value: any) => {\n    setWeeklyWork(prev => {\n      const newTeammates = [...(prev[day].teammates || [])];\n      newTeammates[index] = { ...newTeammates[index], [field]: value };\n      return { ...prev, [day]: { ...prev[day], teammates: newTeammates } };\n    });\n  };\n\n  const addTeammate = (day: keyof WeeklyWork) => {\n    setWeeklyWork(prev => ({ ...prev, [day]: { ...prev[day], teammates: [...(prev[day].teammates || []), { name: '', hours: 0 }] } }));\n  };\n\n  const removeTeammate = (day: keyof WeeklyWork, index: number) => {\n    setWeeklyWork(prev => ({\n      ...prev, [day]: { ...prev[day], teammates: prev[day].teammates.filter((_, i) => i !== index) }\n    }));\n  };\n\n  const handleSave = async () => {\n    setLoading(true);\n    try {\n      let description: string;\n      const totalHours = isWeekly ? DAYS.reduce((sum, day) => sum + (weeklyWork[day]?.hours || 0), 0) : 0;\n      if (isWeekly) {\n        description = JSON.stringify({ type: 'weekly', days: weeklyWork, totalHours });\n      } else {\n        description = simpleText;\n      }\n      const success = await onSave(activity.id, { description, location, date: activityDate });\n      if (success) onOpenChange(false);\n    } finally { setLoading(false); }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-3xl max-h-[95vh] rounded-[2.5rem] p-0 border-none shadow-2xl bg-background flex flex-col overflow-hidden\">\n        <DialogHeader className=\"p-8 pb-4 flex-shrink-0\">\n          <DialogTitle className=\"text-2xl font-black text-primary tracking-tight uppercase italic\">{t('edit.title')}</DialogTitle>\n        </DialogHeader>\n\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          onChange={async (e) => {\n            const files = Array.from(e.target.files || []);\n            if (files.length === 0) return;\n            setUploadingDay(currentUploadDay || '__simple__');\n            const success = await onUploadPhotos(activity.id, files, currentUploadDay);\n            if (success) {\n              onRefetch();\n            }\n            setUploadingDay(null);\n            if (fileInputRef.current) fileInputRef.current.value = '';\n          }}\n          accept=\"image/*\"\n          multiple\n          className=\"hidden\"\n        />\n\n        <div className=\"flex-1 overflow-y-auto px-8 pb-8 space-y-8 custom-scrollbar\">\n          {/* Date Selection Section (Same as Creation) */}\n          <div className=\"bg-card p-6 rounded-[2rem] border border-border mt-4 shadow-sm relative overflow-hidden group\">\n            <div className=\"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 transition-transform group-hover:scale-110\" />\n            <label className=\"text-[11px] font-extrabold text-muted-foreground uppercase tracking-[0.2em] mb-3 block\">{t('form.date')}</label>\n            <Popover>\n              <PopoverTrigger asChild>\n                <Button variant=\"outline\" className=\"w-full justify-start h-14 rounded-2xl border-none bg-muted/50 font-bold hover:bg-muted transition-all text-lg group\">\n                  <CalendarIcon className=\"mr-3 h-6 w-6 text-primary transition-transform group-hover:scale-110\" />\n                  {format(activityDate, \"d MMMM yyyy\", { locale: dateLocales[language] })}\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-auto p-0 rounded-3xl border-none shadow-2xl\" align=\"start\">\n                <Calendar mode=\"single\" selected={activityDate} onSelect={(d) => d && setActivityDate(d)} className=\"rounded-3xl\" />\n              </PopoverContent>\n            </Popover>\n          </div>\n\n          {isWeekly ? (\n            <div className=\"space-y-8\">\n              <div className=\"flex items-center justify-between bg-primary/10 p-6 rounded-[2rem] border border-primary/20\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"p-3 bg-primary/10 rounded-2xl\">\n                    <Clock className=\"w-6 h-6 text-primary\" />\n                  </div>\n                  <div>\n                    <span className=\"font-black text-primary uppercase tracking-tight text-xl\">{t('form.weeklyWork')}</span>\n                    <p className=\"text-[10px] font-bold text-primary/60 uppercase tracking-widest leading-none mt-1\">Haftalık toplam mesai</p>\n                  </div>\n                </div>\n                <div className=\"bg-primary text-white px-6 py-2 rounded-2xl font-black text-xl shadow-lg shadow-primary/20\">\n                  {DAYS.reduce((sum, day) => sum + (weeklyWork[day]?.hours || 0), 0)} <span className=\"opacity-80 text-sm uppercase\">{ui.hours}</span>\n                </div>\n              </div>\n\n              {DAYS.map((day) => (\n                <div key={day} className=\"p-8 bg-card border border-border/50 rounded-[3rem] space-y-7 shadow-sm hover:shadow-xl hover:border-primary/20 transition-all duration-500 relative overflow-hidden group/card\">\n                  <div className=\"absolute top-0 left-0 w-1 h-full bg-primary/10 group-hover/card:bg-primary transition-colors\" />\n\n                  <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center border-b border-border/50 pb-5 gap-4\">\n                    <span className=\"font-black text-2xl text-primary uppercase italic tracking-tighter\">{t(`days.${day}`)}</span>\n                    <div className=\"bg-muted/50 px-4 py-2 rounded-2xl flex items-center gap-3 w-full sm:w-auto\">\n                      <span className=\"text-[10px] font-black text-muted-foreground uppercase\">{ui.hours}:</span>\n                      <input\n                        type=\"number\"\n                        step=\"0.5\"\n                        value={weeklyWork[day]?.hours || ''}\n                        onChange={(e) => handleDayChange(day, 'hours', parseFloat(e.target.value) || 0)}\n                        className=\"w-14 bg-transparent text-center font-black text-2xl text-foreground outline-none focus:text-primary transition-colors\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                    {/* LEFT COLUMN: SUPERVISOR & TEAM */}\n                    <div className=\"space-y-6\">\n                      <div className=\"space-y-2\">\n                        <div className=\"flex items-center gap-2 text-muted-foreground/60 ml-1\">\n                          <UserCheck className=\"w-4 h-4\" />\n                          <span className=\"text-[10px] font-black uppercase tracking-[0.2em]\">{ui.uitvoerder}</span>\n                        </div>\n                        <Input\n                          value={weeklyWork[day]?.uitvoerder || ''}\n                          onChange={(e) => handleDayChange(day, 'uitvoerder', e.target.value)}\n                          placeholder={`${ui.uitvoerder}...`}\n                          className=\"h-14 rounded-2xl bg-muted/30 border-none font-bold text-lg focus:bg-muted/50 focus:ring-2 focus:ring-primary/20 transition-all\"\n                        />\n                      </div>\n\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center gap-2 text-muted-foreground/60 ml-1\">\n                          <Users className=\"w-4 h-4\" />\n                          <span className=\"text-[10px] font-black uppercase tracking-[0.2em]\">{t('form.teammates')}</span>\n                        </div>\n                        <div className=\"space-y-3\">\n                          {(weeklyWork[day]?.teammates || [{ name: '', hours: 0 }]).map((teammate, idx) => (\n                            <div key={idx} className=\"flex gap-2 group/person\">\n                              <Input value={teammate.name} onChange={(e) => handleTeammateChange(day, idx, 'name', e.target.value)} placeholder={ui.placeholder} className=\"h-12 rounded-2xl bg-muted/20 border-none font-bold flex-1\" />\n                              <Input type=\"number\" step=\"0.5\" value={teammate.hours || ''} onChange={(e) => handleTeammateChange(day, idx, 'hours', parseFloat(e.target.value) || 0)} className=\"w-16 h-12 rounded-2xl bg-muted/20 border-none text-center font-black\" />\n                              {(weeklyWork[day]?.teammates?.length || 1) > 1 && (\n                                <Button variant=\"ghost\" size=\"icon\" onClick={() => removeTeammate(day, idx)} className=\"text-destructive/40 hover:text-destructive hover:bg-destructive/10 rounded-2xl h-12 w-12 transition-colors\"><X className=\"w-5 h-5\" /></Button>\n                              )}\n                            </div>\n                          ))}\n                          <Button variant=\"outline\" onClick={() => addTeammate(day)} className=\"w-full h-12 rounded-2xl border-dashed border-2 bg-transparent text-xs font-black uppercase text-muted-foreground hover:text-primary hover:border-primary hover:bg-primary/5 tracking-widest transition-all\">\n                            <UserPlus className=\"w-4 h-4 mr-2\" /> {t('form.addPerson')}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* RIGHT COLUMN: WORK & MEERWERK */}\n                    <div className=\"space-y-6\">\n                      <div className=\"space-y-1\">\n                        <span className=\"text-[10px] font-black text-muted-foreground/60 uppercase tracking-[0.2em] ml-1\">Çalışma Detayları</span>\n                        <Textarea\n                          value={weeklyWork[day]?.work || ''}\n                          onChange={(e) => handleDayChange(day, 'work', e.target.value)}\n                          placeholder={ui.workPlaceholder}\n                          className=\"min-h-[120px] rounded-[2rem] bg-muted/30 border-none p-6 font-medium text-lg focus:bg-muted/50 focus:ring-2 focus:ring-primary/20 transition-all resize-none\"\n                        />\n                      </div>\n                      <div className=\"space-y-1\">\n                        <span className=\"text-[10px] font-black text-primary/60 uppercase tracking-[0.2em] ml-1\">İlave İşler (Meerwerk)</span>\n                        <Textarea\n                          value={weeklyWork[day]?.meerwerk || ''}\n                          onChange={(e) => handleDayChange(day, 'meerwerk', e.target.value)}\n                          placeholder=\"Meerwerk...\"\n                          className=\"min-h-[80px] rounded-2xl bg-primary/5 border-2 border-dashed border-primary/10 p-4 text-sm font-medium focus:bg-primary/10 transition-all resize-none\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 pt-6 border-t border-border/30\">\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center gap-2 text-muted-foreground/60 ml-1\">\n                        <MapPin className=\"w-4 h-4\" />\n                        <span className=\"text-[10px] font-black uppercase tracking-[0.2em]\">Konum</span>\n                      </div>\n                      <div className=\"flex gap-3 items-center\">\n                        <div className=\"relative flex-1 group/loc\">\n                          <Input\n                            value={weeklyWork[day]?.location || ''}\n                            onChange={(e) => handleDayChange(day, 'location', e.target.value)}\n                            className=\"h-14 rounded-2xl bg-muted/30 border-none font-bold text-foreground focus:ring-2 focus:ring-primary/20\"\n                          />\n                        </div>\n                        <Button type=\"button\" onClick={() => fetchAddress(day)} disabled={locatingDay === day} className={cn(\"h-14 w-14 rounded-2xl shadow-xl transition-all active:scale-95\", weeklyWork[day]?.location ? \"bg-green-600 hover:bg-green-700 text-white\" : \"bg-primary text-white\")}>\n                          {locatingDay === day ? <Loader2 className=\"w-6 h-6 animate-spin\" /> : <LocateFixed className=\"w-6 h-6\" />}\n                        </Button>\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-4\">\n                      <div className=\"flex items-center gap-2 text-muted-foreground/60 ml-1\">\n                        <Camera className=\"w-4 h-4\" />\n                        <span className=\"text-[10px] font-black uppercase tracking-[0.2em]\">{t('activity.photo')} Galeri</span>\n                      </div>\n                      <div className=\"flex flex-wrap gap-4\">\n                        {getPhotosForDay(activity.photos, day).map((photo, pIdx) => (\n                          <div key={pIdx} className=\"relative w-24 h-24 group/img\">\n                            <img src={photo.file_url} className=\"w-full h-full object-cover rounded-[1.5rem] border-4 border-white shadow-xl group-hover/img:scale-105 transition-transform\" />\n                            <button type=\"button\" onClick={async () => {\n                              setDeletingPhotoId(photo.id);\n                              if (await onDeletePhoto(photo.id)) onRefetch();\n                              setDeletingPhotoId(null);\n                            }} className=\"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-2 shadow-xl border-2 border-white scale-100 transition-transform active:scale-90\">\n                              {deletingPhotoId === photo.id ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : <X className=\"w-3 h-3\" />}\n                            </button>\n                          </div>\n                        ))}\n                        <Button type=\"button\" disabled={uploadingDay === day} onClick={() => { setCurrentUploadDay(day); fileInputRef.current?.click(); }} className=\"w-24 h-24 rounded-[1.5rem] border-2 border-dashed border-border bg-muted/20 text-muted-foreground flex flex-col items-center justify-center gap-2 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all duration-300\">\n                          {uploadingDay === day ? <Loader2 className=\"w-8 h-8 animate-spin\" /> : <Plus className=\"w-8 h-8\" />}\n                          <span className=\"text-[10px] font-black uppercase tracking-tighter opacity-70\">Ekle</span>\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"space-y-6\">\n              <div className=\"space-y-2\">\n                <span className=\"text-[10px] font-black text-muted-foreground/60 uppercase tracking-[0.2em] ml-1\">Açıklama</span>\n                <Textarea value={simpleText} onChange={(e) => setSimpleText(e.target.value)} className=\"min-h-[200px] rounded-[2rem] bg-muted/20 border-none p-8 text-lg font-medium resize-none focus:bg-muted/30 transition-all\" />\n              </div>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center gap-2 text-muted-foreground/60 ml-1\">\n                  <MapPin className=\"w-4 h-4\" />\n                  <span className=\"text-[10px] font-black uppercase tracking-[0.2em]\">Genel Konum</span>\n                </div>\n                <div className=\"relative\">\n                  <MapPin className=\"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-primary\" />\n                  <Input value={location} onChange={(e) => setLocation(e.target.value)} className=\"pl-14 h-16 rounded-[1.5rem] bg-muted/30 border-none text-lg font-bold\" />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-8 bg-slate-50 border-t flex justify-end gap-4 rounded-b-[2.5rem] flex-shrink-0 shadow-[0_-10px_30px_rgba(0,0,0,0.05)] z-10\">\n          <Button variant=\"ghost\" onClick={() => onOpenChange(false)} disabled={loading} className=\"font-bold h-14 px-8 rounded-2xl hover:bg-slate-200 uppercase text-xs\">{ui.cancel}</Button>\n          <Button onClick={handleSave} disabled={loading} className=\"font-black h-14 px-12 rounded-2xl shadow-xl bg-primary hover:bg-primary/90 text-white text-lg\">\n            {loading ? <Loader2 className=\"w-6 h-6 animate-spin mr-3\" /> : <Save className=\"w-6 h-6 mr-3\" />}\n            {ui.save}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]}]